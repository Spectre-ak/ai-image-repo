(this["webpackJsonpapp-ui"]=this["webpackJsonpapp-ui"]||[]).push([[0],{17:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){},22:function(e,t,s){},24:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),o=s(10),r=s.n(o),c=(s(17),s(3)),i=s(4),l=s(6),d=s(5),b=(s(18),s(7)),j=(s(19),s(0));var u=function(e){return Object(j.jsx)("div",{class:"dropdown",children:Object(j.jsx)("button",{class:"btn btn-outline-primary",type:"button",style:{marginBottom:"10px"},children:e.status})})},h=s(2),p=s(9),m=s.n(p),g=s(11);s(22);function O(e){var t=Object(a.useState)(Object(j.jsx)(I,{})),s=Object(b.a)(t,2),n=s[0],o=s[1];return Object(j.jsx)("div",{className:"col-md-3 col-sm-4",children:Object(j.jsxs)("div",{className:"thumbnail",href:"#",children:[Object(j.jsxs)("span",{children:[n,Object(j.jsx)("img",{className:"img-fluid",src:e.src,alt:"",onLoad:function(){o(null)}})]}),Object(j.jsx)("div",{class:"caption",children:e.tags})]})})}function f(e){return Object(j.jsx)("span",{style:{paddingRight:"2px",paddingLeft:"2px"},children:Object(j.jsx)("span",{class:"badge badge-pill badge-warning",children:e.tag})})}var x=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={renderData:Object(j.jsx)(I,{})},a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){console.log(this.props.data);var e=[],t=Math.floor(100*Math.random());this.props.data.forEach((function(s){t++;var a=[];s.tags.forEach((function(e){t++,a.push(Object(j.jsx)(f,{tag:e},2789*t))})),0===a.length&&a.push(Object(j.jsx)(f,{tag:"miscellaneous"},3890*t)),e.push(Object(j.jsx)(O,{src:s.img,tags:a},s.img))})),this.setState({renderData:e})}},{key:"render",value:function(){return Object(j.jsx)("div",{class:"row",children:this.state.renderData})}}]),s}(n.a.Component),v=s(12),y=s.n(v),S=["person","bicycle","car","motorcycle","airplane","bus","train","truck","boat","traffic light","fire hydrant","stop sign","parking ;meter","bench","bird","cat","dog","horse","sheep","cow","elephant","bear","zebra","giraffe","backpack","umbrella","handbag","tie","suitcase","frisbee","skis","snowboard","sports ball","kite","baseball bat","baseball glove","skateboard","surfboard","tennis racket","bottle","wine glass","cup","fork","knife","spoon","bowl","banana","apple","sandwich","orange","broccoli","carrot","hot dog","pizza","donut","cake","chair","couch","potted plant","bed","dining table","toilet","tv","laptop","mouse","remote","keyboard","cell phone","microwave","oven","toaster","sink","refrigerator","book","clock","vase","scissors","teddy bear","hair drier","toothbrush"];var k=function(e){return Object(j.jsx)(y.a,{isObject:!1,onRemove:function(t,s){e.selectedList(t)},onSearch:function(){},onSelect:function(t,s){e.selectedList(t)},options:S,placeholder:"Select tags to search"})};console.log("uril_access imported");var w="http://localhost:5000",C=Object(j.jsxs)("span",{children:["Working ",Object(j.jsx)("i",{class:"fa fa-check","aria-hidden":"true",style:{color:"lime"}})]});function I(){return Object(j.jsx)("div",{class:"d-flex justify-content-center",children:Object(j.jsx)("div",{class:"spinner-border text-primary",role:"status",children:Object(j.jsx)("span",{class:"sr-only",children:"Loading..."})})})}var T=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).selectedListFromSearch=a.selectedListFromSearch.bind(Object(h.a)(a)),a.state={renderHome:Object(j.jsx)(I,{}),rawData:[]},a}return Object(i.a)(s,[{key:"selectedListFromSearch",value:function(e){var t=this;this.setState({renderHome:[Object(j.jsx)(I,{})]}),console.log(e);var s=[];e.forEach((function(e){t.state.rawData.forEach((function(t){t.tags.includes(e)&&(console.log(t),s.push(t))}))})),console.log("filtered data is here"),console.log(s);var a=Object(j.jsx)(x,{data:s});0===s.length&&(a=0===e.length?Object(j.jsx)(x,{data:this.state.rawData}):Object(j.jsx)("div",{class:"d-flex justify-content-center",children:"No results with provided tags"})),this.setState({renderHome:Object(j.jsx)(I,{})},(function(){t.setState({renderHome:a})}))}},{key:"componentDidMount",value:function(){var e=this;this.props.setContentStatus(Object(j.jsx)(u,{status:C})),this.props.setComponentTitle(Object(j.jsx)(k,{selectedList:this.selectedListFromSearch})),console.log(w),console.log(w+"/repo_home_data"),fetch(w+"/repo_home_data",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t);var s=[];for(var a in t.data)console.log(t.data[a]),s.push({img:a,tags:t.data[a]});e.setState({renderHome:Object(j.jsx)(x,{data:s}),rawData:s})})).catch((function(t){e.setState({renderHome:Object(j.jsx)("h5",{children:"Some error occured, raise a issue at github"})})}))}},{key:"render",value:function(){return Object(j.jsx)("div",{id:"repo-home-container",children:this.state.renderHome})}}]),s}(n.a.Component),M=Object(j.jsxs)("span",{children:["Working ",Object(j.jsx)("i",{class:"fa fa-check","aria-hidden":"true",style:{color:"lime"}})]});function D(){return Object(j.jsxs)("div",{children:["Select an image: \xa0 \xa0",Object(j.jsx)("input",{type:"file",name:"Imagefile",required:!0,accept:"image/*"})]})}var A=function(){return Object(j.jsxs)("span",{children:[" \xa0Uploading \xa0",Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})]})},U=function(){return Object(j.jsxs)("span",{children:[" \xa0Uploaded, Detecting objects on video frames, might take few mins depeding on video size \xa0",Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",style:{color:"#FF9800!important"},role:"status","aria-hidden":"true"})]})},P=function(){return Object(j.jsxs)("span",{children:[" \xa0Done \xa0",Object(j.jsx)("i",{class:"fa fa-check-circle",style:{color:"lime"},"aria-hidden":"true"})]})},F=function(){return Object(j.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto"},children:"No similar images found with the given image/tags in the video"})};function _(e){return Object(j.jsxs)("div",{style:{float:""},children:[Object(j.jsxs)("a",{class:"btn btn-outline-primary",href:e.url,role:"button",children:["Download as zip \xa0",Object(j.jsx)("i",{class:"fa fa-download","aria-hidden":"true"})]}),Object(j.jsx)("p",{style:{textAlign:""},children:Object(j.jsx)("small",{children:"Available for next 30 mins"})})]})}function R(){return Object(j.jsx)("div",{class:"d-flex justify-content-center",children:Object(j.jsx)("big",{children:Object(j.jsx)("b",{children:"Video Search"})})})}var L=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={searchTypeComponent:Object(j.jsx)(D,{}),searchTags:[],renderVideoSearchContent:[],downloadLink:[],buttonDisabled:!1},a.selectedListFromSearch=a.selectedListFromSearch.bind(Object(h.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a.alertUser=a.alertUser.bind(Object(h.a)(a)),a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.setContentStatus(Object(j.jsx)(u,{status:M})),this.props.setComponentTitle(Object(j.jsx)(R,{})),console.log("fetcing stired data"),console.log(localStorage.getItem("ImageComponent")),console.log(localStorage.getItem("DownloadAsZipComponent"));var t=JSON.parse(localStorage.getItem("ImageComponent")),s=localStorage.getItem("DownloadAsZipComponent");t&&0!==t.length&&fetch(w+"/chk/"+localStorage.getItem("temp_dir_id")).then((function(e){return e.json()})).then((function(a){a.status&&e.setState({renderVideoSearchContent:Object(j.jsx)(x,{data:t}),downloadLink:Object(j.jsx)(_,{url:s})})})).catch((function(e){console.log(e)}))}},{key:"selectedListFromSearch",value:function(e){console.log(e),this.setState({searchTags:e,alertMessage:"OK"})}},{key:"alertUser",value:function(e){this.setState({alertMessage:e},(function(){document.getElementById("custom-alert-msg-modal").click()}))}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e);var s=e.target[0];console.log(e.target[1].checked),console.log(e.target[2].checked);var a=new FormData(e.target);if(a.append("type",e.target[1].checked?"img":"text"),a.append("search_text",JSON.stringify(this.state.searchTags)),e.target[2].checked){if(0===this.state.searchTags.length)return void this.alertUser("Select tags on which to be search")}else{var n=e.target[3],o=n.files[0].size/1024/1024;if((o=parseInt(o))>=10||!n.files[0].type.includes("image"))return void this.alertUser("Search file type must be image(png or jpg) and size less than 10MB")}var r=s.files[0].size/1024/1024;r=parseInt(r),console.log("video type"),console.log(s.files[0].type),r>=20||!s.files[0].type.includes("video")?this.alertUser("Video file type must be video(mp4) and size less than 20MB"):(console.log(s),this.setState({renderVideoSearchContent:Object(j.jsx)(I,{}),videoProcessStatus:Object(j.jsx)(A,{}),buttonDisabled:!0}),fetch(w+"/search_video",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.error)t.errorOccuredRaiseIssue();else{var s=new FormData;s.append("json",JSON.stringify(e)),t.setState({videoProcessStatus:Object(j.jsx)(U,{})}),fetch(w+"/start_processing_video",{method:"POST",body:s}).then((function(e){return e.json()})).then((function(s){if(s.error)t.errorOccuredRaiseIssue();else{console.log(s);var a=[];s.data.forEach((function(e){console.log(e),a.push({img:w+"/"+e[Object.keys(e)[0]].frame_path,tags:e[Object.keys(e)[0]].similar_objs})}));var n=w+"/static/"+e.temp_dir_id+".zip";localStorage.setItem("ImageComponent",JSON.stringify(a)),localStorage.setItem("DownloadAsZipComponent",n),localStorage.setItem("temp_dir_id",e.temp_dir_id),0===a.length?t.setState({renderVideoSearchContent:Object(j.jsx)(F,{}),videoProcessStatus:Object(j.jsx)(P,{}),buttonDisabled:!1}):t.setState({renderVideoSearchContent:Object(j.jsx)(x,{data:a}),downloadLink:Object(j.jsx)(_,{url:n}),videoProcessStatus:Object(j.jsx)(P,{}),resultsInfo:"Similar Images",buttonDisabled:!1})}})).catch((function(e){console.log(e),console.log("error found in second vid fest"),t.errorOccuredRaiseIssue()}))}})).catch((function(e){console.log(e),t.errorOccuredRaiseIssue()})))}},{key:"errorOccuredRaiseIssue",value:function(){this.setState({renderVideoSearchContent:Object(j.jsx)("h5",{children:"Some error occured, raise a issue at github"}),buttonDisabled:!1})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("b",{children:"Search Images inside videos using an image or tags"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("form",{onSubmit:this.onFormSubmit,children:["Select a video: \xa0 \xa0",Object(j.jsx)("input",{type:"file",name:"Videofile",required:!0,accept:"video/*"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Select search type Image or Tags: \xa0 \xa0",Object(j.jsxs)("div",{class:"form-check form-check-inline",onClick:function(){e.setState({searchTypeComponent:Object(j.jsx)(D,{})})},children:[Object(j.jsx)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",defaultChecked:!0}),Object(j.jsx)("label",{class:"form-check-label",for:"inlineRadio1",children:"Image"})]})," \xa0",Object(j.jsxs)("div",{class:"form-check form-check-inline",onClick:function(){e.setState({searchTypeComponent:Object(j.jsx)(k,{selectedList:e.selectedListFromSearch})})},children:[Object(j.jsx)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"option2"}),Object(j.jsx)("label",{class:"form-check-label",for:"inlineRadio2",children:"Tags"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),this.state.searchTypeComponent,Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{type:"submit",class:"btn btn-outline-primary",disabled:this.state.buttonDisabled,children:[Object(j.jsx)("i",{class:"fa fa-upload","aria-hidden":"true"})," Upload and start processing video"]}),Object(j.jsx)("span",{children:this.state.videoProcessStatus})]}),Object(j.jsx)("br",{}),this.state.downloadLink,Object(j.jsx)("h5",{children:this.state.resultsInfo}),this.state.renderVideoSearchContent,Object(j.jsx)(X,{message:this.state.alertMessage})]})}}]),s}(n.a.Component),E=function(){return Object(j.jsx)("div",{class:"d-flex justify-content-center",children:Object(j.jsx)("big",{children:Object(j.jsx)("b",{children:"Contribute images to AI Image Repository"})})})},z=Object(j.jsxs)("span",{children:["Working ",Object(j.jsx)("i",{class:"fa fa-check","aria-hidden":"true",style:{color:"lime"}})]}),B=function(){return Object(j.jsxs)("span",{children:[" \xa0Uploading and classifying your images \xa0",Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",style:{color:"#FF9800!important"},role:"status","aria-hidden":"true"})]})},N=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={isAvailableStatus:Object(j.jsxs)("span",{style:{color:"#fff"},children:["Pending ",Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",style:{color:"#FF9800!important"},role:"status","aria-hidden":"true"})]}),buttonDisabled:!1,renderAddImagesToRepo:[],messageSuccess:"",imgUploadAndProcessStatus:"",alertMessage:""},a.updateContentStatus=a.updateContentStatus.bind(Object(h.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a.showPopupMessage=a.showPopupMessage.bind(Object(h.a)(a)),a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.setContentStatus(Object(j.jsx)(u,{status:this.state.isAvailableStatus})),this.props.setComponentTitle(Object(j.jsx)(E,{})),fetch(w+"/upload_and_store_status").then((function(e){return e.json()})).then((function(t){console.log(t),t.status.status?e.props.setContentStatus(Object(j.jsx)(u,{status:z})):e.updateContentStatus()})).catch((function(e){console.log(e)}))}},{key:"updateContentStatus",value:function(){var e=this,t=setInterval(Object(g.a)(m.a.mark((function s(){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("executing inteval"),s.next=3,fetch(w+"/upload_and_store_status").then((function(e){return e.json()})).then((function(s){console.log(s),s.status&&(console.log("clearing interval"),e.props.setContentStatus(Object(j.jsx)(u,{status:z})),clearInterval(t))})).catch((function(e){console.log(e),console.log("clearing interval"),clearInterval(t)}));case 3:case"end":return s.stop()}}),s)}))),1e4)}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e),console.log(e.target[0].files),console.log(e.target[0].files.length);var s=e.target[0].files,a=s.length;if(a>30)this.showPopupMessage("Max 30 images allowed at a time");else{for(var n=0;n<a;n++){var o=s[n].size/1024/1024;if(o=parseInt(o),!s[n].type.includes("image")||o>=10)return void this.showPopupMessage("Files must be of type image(png or jpg) and size less than 10MB")}var r=new FormData(e.target);this.setState({buttonDisabled:!0,renderAddImagesToRepo:Object(j.jsx)(I,{}),imgUploadAndProcessStatus:Object(j.jsx)(B,{})}),fetch(w+"/upload_and_store",{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?t.updateUserErrorMessage():t.setState({buttonDisabled:!1,renderAddImagesToRepo:Object(j.jsx)(x,{data:e.obj}),messageSuccess:"Added following images successfully",imgUploadAndProcessStatus:Object(j.jsx)(P,{})})})).catch((function(e){console.log(e),t.updateUserErrorMessage()}))}}},{key:"updateUserErrorMessage",value:function(){this.setState({buttonDisabled:!1,messageSuccess:"Some error occued while saving processing you images and saving. Try again later.",imgUploadAndProcessStatus:"",renderAddImagesToRepo:[]})}},{key:"showPopupMessage",value:function(e){this.setState({alertMessage:e},(function(){document.getElementById("custom-alert-msg-modal").click()}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("b",{children:"Select images to add to repo"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("form",{onSubmit:this.onFormSubmit,children:["Select images: \xa0 \xa0",Object(j.jsx)("input",{type:"file",name:"file",required:!0,accept:"image/*",multiple:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{type:"submit",class:"btn btn-outline-primary",disabled:this.state.buttonDisabled,children:[Object(j.jsx)("i",{class:"fa fa-upload","aria-hidden":"true"})," Save Images"]}),Object(j.jsx)("span",{children:this.state.imgUploadAndProcessStatus})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{children:this.state.messageSuccess}),Object(j.jsx)("br",{}),this.state.renderAddImagesToRepo,Object(j.jsx)(X,{message:this.state.alertMessage})]})}}]),s}(n.a.Component),H=Object(j.jsxs)("span",{children:["Working ",Object(j.jsx)("i",{class:"fa fa-check","aria-hidden":"true",style:{color:"lime"}})]}),V=function(e){return Object(j.jsxs)("span",{children:[" \xa0",e.message?e.message:"Uploading and classifying your images"," \xa0",Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",style:{color:"#FF9800!important"},role:"status","aria-hidden":"true"})]})};function J(e){return Object(j.jsx)("div",{class:"d-flex justify-content-center",children:Object(j.jsx)("big",{children:Object(j.jsx)("b",{children:e.message?e.message:"Perform Object detection on Images"})})})}var W=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={imgUploadAndProcessStatus:"",alertMessage:""},a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a.showPopupMessage=a.showPopupMessage.bind(Object(h.a)(a)),a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.props.setContentStatus(Object(j.jsx)(u,{status:H})),this.props.setComponentTitle(Object(j.jsx)(J,{}))}},{key:"updateUserErrorMessage",value:function(){this.setState({buttonDisabled:!1,messageSuccess:"Some error occued while saving processing you images and saving. Try again later.",imgUploadAndProcessStatus:"",renderAddImagesToRepo:[]})}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e),console.log(e.target[0].files),console.log(e.target[0].files.length);var s=e.target[0].files,a=s.length;if(a>10)this.showPopupMessage("Max 10 images can be processed at a time");else{for(var n=0;n<a;n++){var o=s[n].size/1024/1024;if(o=parseInt(o),!s[n].type.includes("image")||o>=10)return void this.showPopupMessage("Files must be of type image(png or jpg) and size less than 10MB")}var r=new FormData(e.target);this.setState({buttonDisabled:!0,renderAddImagesToRepo:Object(j.jsx)(I,{}),imgUploadAndProcessStatus:Object(j.jsx)(V,{})}),fetch(w+"/upload",{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?t.updateUserErrorMessage():t.setState({buttonDisabled:!1,renderAddImagesToRepo:Object(j.jsx)(x,{data:e.obj}),messageSuccess:"Images with detected objects in it",imgUploadAndProcessStatus:Object(j.jsx)(P,{})})})).catch((function(e){console.log(e),t.updateUserErrorMessage()}))}}},{key:"showPopupMessage",value:function(e){this.setState({alertMessage:e},(function(){document.getElementById("custom-alert-msg-modal").click()}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Upload image and get detected objects "}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("form",{onSubmit:this.onFormSubmit,children:["Select images: \xa0 \xa0",Object(j.jsx)("input",{type:"file",name:"file",required:!0,accept:"image/*",multiple:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{type:"submit",class:"btn btn-outline-primary",disabled:this.state.buttonDisabled,children:[Object(j.jsx)("i",{class:"fa fa-upload","aria-hidden":"true"})," Upload Images"]}),Object(j.jsx)("span",{children:this.state.imgUploadAndProcessStatus})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{children:this.state.messageSuccess}),this.state.renderAddImagesToRepo,Object(j.jsx)("br",{}),Object(j.jsx)(X,{message:this.state.alertMessage})]})}}]),s}(n.a.Component),q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={imgUploadAndProcessStatus:"",renderAddImagesToRepo:[],messageSuccess:"",alertMessage:"",buttonDisabled:!1},a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a.showPopupMessage=a.showPopupMessage.bind(Object(h.a)(a)),a.updateUserErrorMessage=a.updateUserErrorMessage.bind(Object(h.a)(a)),a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.props.setContentStatus(Object(j.jsx)(u,{status:H})),this.props.setComponentTitle(Object(j.jsx)(J,{message:"Search using image"}))}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e),console.log(e.target[0].files),console.log(e.target[0].files.length);var s=e.target[0].files,a=s.length;if(a>1)this.showPopupMessage("Max 10 images can be processed at a time");else{for(var n=0;n<a;n++){var o=s[n].size/1024/1024;if(o=parseInt(o),!s[n].type.includes("image")||o>=10)return void this.showPopupMessage("Files must be of type image(png or jpg) and size less than 10MB")}var r=new FormData(e.target);this.setState({buttonDisabled:!0,renderAddImagesToRepo:Object(j.jsx)(I,{}),imgUploadAndProcessStatus:Object(j.jsx)(V,{message:"Uploading and searching for similar images in the repo"})}),fetch(w+"/search_image",{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.error)t.updateUserErrorMessage();else{var s=[];e.obj.forEach((function(e){s.push({img:Object.keys(e)[0],tags:e[Object.keys(e)[0]].objs})})),console.log(s),0!==s.length?t.setState({buttonDisabled:!1,renderAddImagesToRepo:Object(j.jsx)(x,{data:s}),messageSuccess:"Similar images found",imgUploadAndProcessStatus:Object(j.jsx)(P,{})}):t.setState({buttonDisabled:!1,renderAddImagesToRepo:[],messageSuccess:"No images found with the provided search image",imgUploadAndProcessStatus:""})}})).catch((function(e){console.log(e),t.updateUserErrorMessage()}))}}},{key:"updateUserErrorMessage",value:function(){this.setState({buttonDisabled:!1,messageSuccess:"Some error occued while saving processing you image. Try again later.",imgUploadAndProcessStatus:"",renderAddImagesToRepo:[]})}},{key:"showPopupMessage",value:function(e){this.setState({alertMessage:e},(function(){document.getElementById("custom-alert-msg-modal").click()}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Get similar images from the repository using an image"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("form",{onSubmit:this.onFormSubmit,children:["Select image: \xa0 \xa0",Object(j.jsx)("input",{type:"file",name:"file",required:!0,accept:"image/*"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("button",{type:"submit",class:"btn btn-outline-primary",disabled:this.state.buttonDisabled,children:[Object(j.jsx)("i",{class:"fa fa-upload","aria-hidden":"true"})," Upload Image"]}),Object(j.jsx)("span",{children:this.state.imgUploadAndProcessStatus})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{children:this.state.messageSuccess}),this.state.renderAddImagesToRepo,Object(j.jsx)("br",{}),Object(j.jsx)(X,{message:this.state.alertMessage})]})}}]),s}(n.a.Component);function G(e){return Object(j.jsx)("span",{class:"dropdown-item",onClick:function(){e.setDropdownDisplay(e.name)},style:{cursor:"pointer"},children:e.name})}var Y=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).changeTab=a.changeTab.bind(Object(h.a)(a)),a.state={currentTab:"Repository Home",Components:{"Repository Home":Object(j.jsx)(T,{setContentStatus:a.props.setContentStatus,setComponentTitle:a.props.setComponentTitle}),"Video Search":Object(j.jsx)(L,{setContentStatus:a.props.setContentStatus,setComponentTitle:a.props.setComponentTitle}),"Image Search":Object(j.jsx)(q,{setContentStatus:a.props.setContentStatus,setComponentTitle:a.props.setComponentTitle}),"Classify Image":Object(j.jsx)(W,{setContentStatus:a.props.setContentStatus,setComponentTitle:a.props.setComponentTitle}),"Add Images":Object(j.jsx)(N,{setContentStatus:a.props.setContentStatus,setComponentTitle:a.props.setComponentTitle})}},a}return Object(i.a)(s,[{key:"changeTab",value:function(e){console.log(e),this.setState({currentTab:e}),this.props.setContentComponent(this.state.Components[e])}},{key:"render",value:function(){return Object(j.jsxs)("div",{class:"dropdown",children:[Object(j.jsx)("button",{class:"btn btn-outline-primary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{marginBottom:"10px"},children:this.state.currentTab}),Object(j.jsxs)("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(j.jsx)(G,{name:"Repository Home",setDropdownDisplay:this.changeTab,onClick:function(){console.log("repo page")}}),Object(j.jsx)(G,{name:"Video Search",setDropdownDisplay:this.changeTab}),Object(j.jsx)(G,{name:"Image Search",setDropdownDisplay:this.changeTab}),Object(j.jsx)(G,{name:"Classify Image",setDropdownDisplay:this.changeTab}),Object(j.jsx)(G,{name:"Add Images",setDropdownDisplay:this.changeTab})]})]})}}]),s}(n.a.Component),Z=Object(j.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),K=function(){return Object(j.jsx)("a",{href:"https://github.com/Spectre-ak/ai-image-repo",children:Object(j.jsxs)("span",{className:"githubLogo",style:{cursor:"pointer"},children:[" Github\xa0",Object(j.jsx)("big",{style:{color:"white"},children:Object(j.jsx)("big",{children:Object(j.jsx)("i",{className:"fab fa-github","aria-hidden":"true",id:"githubLogo"})})})]})})};function Q(){var e=Object(a.useState)(Object(j.jsx)(u,{status:Z})),t=Object(b.a)(e,2),s=t[0],n=t[1],o=Object(a.useState)(Z),r=Object(b.a)(o,2),c=r[0],i=r[1],l=Object(a.useState)(Object(j.jsx)(T,{setContentStatus:n,setComponentTitle:i})),d=Object(b.a)(l,2),h=d[0],p=d[1];return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h4",{style:{marginTop:"15px",marginBottom:"20px"},children:"Welcome to AI based Image Repository"}),Object(j.jsxs)("p",{children:[Object(j.jsx)(K,{}),Object(j.jsx)("a",{href:"#",style:{paddingLeft:"20px"},onClick:function(){document.getElementById("custom-alert-msg-modal1").click()},children:"How it works"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("nav",{class:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(j.jsx)("div",{class:"navbar-collapse collapse w-60 order-1 order-md-0 dual-collapse2",children:Object(j.jsx)("ul",{class:"navbar-nav mr-auto",children:Object(j.jsx)(Y,{setContentComponent:p,setContentStatus:n,setComponentTitle:i})})}),Object(j.jsxs)("div",{class:"mx-auto order-0 w-100",style:{paddingLeft:"20px",paddingRight:"20px",marginTop:"-8px"},children:[c,Object(j.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":".dual-collapse2",style:{float:"right",marginTop:"10px"},children:Object(j.jsx)("i",{class:"fa fa-chevron-circle-down","aria-hidden":"true"})})]}),Object(j.jsx)("div",{class:"navbar-collapse collapse w-60 order-3 dual-collapse2",children:Object(j.jsx)("ul",{class:"navbar-nav ml-auto",children:s})})]})}),Object(j.jsx)("hr",{}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{children:h}),Object(j.jsx)($,{})]})}function X(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",style:{display:"none"},id:"custom-alert-msg-modal",children:"Launch demo modal"}),Object(j.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",role:"document",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",children:[Object(j.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Error"}),Object(j.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(j.jsx)("div",{class:"modal-body",children:e.message}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})}function $(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":".bd-example-modal-lg",style:{display:"none"},id:"custom-alert-msg-modal1",children:"Large modal"}),Object(j.jsx)("div",{class:"modal fade bd-example-modal-lg",tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true",style:{display:"none"},children:Object(j.jsx)("div",{class:"modal-dialog modal-lg",role:"document",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",children:[Object(j.jsx)("h5",{class:"modal-title h4",id:"myLargeModalLabel",children:"How it works"}),Object(j.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsxs)("div",{class:"modal-body",children:[Object(j.jsx)("h4",{children:Object(j.jsx)("i",{children:"Welcome to this AI powered image repository"})}),Object(j.jsxs)("p",{children:["The backbone of the repository is ",Object(j.jsx)("a",{href:"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md",children:"faster_rcnn_inception_v2_coco "}),"object detection model from tensorflow model zoo. The model is trained on COCO (Common Objects in Context) dataset, which covers around 90 day to day basis objects."]}),Object(j.jsx)("p",{children:"How to use this site:"}),Object(j.jsx)("p",{children:"Basically there are 5 tabs, Available on left side and right side indicates the status (its working or not currently)"}),Object(j.jsx)("p",{children:"1. Repository Home"}),Object(j.jsx)("p",{children:"This tab displays all available images and their corresponding tags which are stored in the repository. You can also use the search bar to filter across the repository"}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"2. Video Search"}),Object(j.jsx)("p",{children:"Let's say you have a video(long one) and for some purpose you want to retrieve all images/frames from this video which resemble a property/object (maybe car)."}),Object(j.jsx)("p",{children:"You can use this video search component to do that task."}),Object(j.jsx)("p",{children:"Just upload a video and select what objects you want in the extracted frames. You can also use an image for searching in the video."}),Object(j.jsx)("p",{children:"After uploading the video, the backend will start extracting frames from your video and then passing them to the object detection model for processing."}),Object(j.jsx)("p",{children:"Once processing is done you'll see the result in bottom, and also you'll be allowed to download the extracted frames as a zip file"}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"3. Image Search"}),Object(j.jsx)("p",{children:"Using the Image search component, you can search for similar images in the repository just by using an image."}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"4. Classify Image"}),Object(j.jsx)("p",{children:"This might be interesting for you."}),Object(j.jsx)("p",{children:"Using this component, you can see how a deep nueral network(faster_rcnn_inception_v2_coco), works on images."}),Object(j.jsx)("p",{children:"This component directly outputs the detected objects in an image. Upload a bunch of images and wait for the model to process it and once done you'll see detected objects with their respective labels drawn over them."}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"5. Add Images"}),Object(j.jsx)("p",{children:"This component is for contributing images to the repository. If you want you can upload images, they'll be classified/tagged by the model and stored in the repository."}),Object(j.jsx)("h6",{children:"Thanks, Hope you love this site."})]})})]})})})]})}var ee=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)(Q,{})})}}]),s}(n.a.Component);r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(ee,{})}),document.getElementById("root")),console.log("test-dev")}},[[24,1,2]]]);
//# sourceMappingURL=main.9622510e.chunk.js.map